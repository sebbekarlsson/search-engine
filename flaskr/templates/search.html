{% extends 'layout.html' %}
{% from "_formhelpers.html" import render_field %}
{% block content %}
    <form action="/search">
      <dl>
        {{ render_field(form.q) }}
      </dl>
      <p><input type='submit' value='Search'>
    </form>
    {% if posts is not none%}
        <ul class='results'>
            {% for post in posts %}
                <li class='result'>
                  <a href='{{post.title}}'>{{post.title | safe}}</a>
                  <p>
                    {{post.custom_content | safe}}
                  </p>
                </li>
            {% endfor %}
        </ul>
    {% endif %}
{% endblock %}